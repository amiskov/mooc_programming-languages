(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{152:function(t,e,s){"use strict";s.r(e);var a=s(0),n=Object(a.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._m(1),t._m(2),s("p",[t._v("В контексте курса нужно воспринимать ML как совершенно новый язык и не примешивать уже имеющийся опыт.")]),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8),s("p",[t._v("ML — статически типизированный язык: до выполнения программы происходит проверка типов.")]),s("p",[t._v("Динамическое окружение — то, что происходит при исполнении. Статическое — то, что происходит до выполнения, при проверке типов.")]),s("p",[t._v("Что происходит в программе при объявлении переменных:")]),t._m(9),t._m(10),t._m(11),t._m(12),s("p",[t._v("Семантика — что означает то, что записано синтаксически.")]),s("p",[t._v("Сначала формируется статическое окружение: проверяются типы и что переменные определены, статическое окружение наполняется.")]),s("p",[t._v("Потом формируется динамическое окружение: происходит вычисление выражений и присваивание, наполняется динамическое окружение.")]),s("p",[t._v("Type checking comes before the evaluation.")]),t._m(13),t._m(14),s("p",[t._v("Выражения могут содержать подвыражения какой угодно вложенности. Для каждого выражения нужно рекурсивно (чтобы захватить подвыражения) ответить 3 вопроса:")]),t._m(15),s("p",[t._v("Пример разбора такого выражения — привязка значения к переменной:")]),t._m(16),s("p",[t._v("Пример для суммы:")]),t._m(17),t._m(18),s("p",[t._v("Значение (value) — результат вычисления (evaluation).")]),t._m(19),t._m(20),s("p",[t._v("Синтаксис:")]),t._m(21),t._m(22),s("p",[t._v("Проверка типов:")]),t._m(23),s("p",[t._v("Вычисление:")]),t._m(24),t._m(25),t._m(26),t._m(27),s("p",[t._v("Вычисление:")]),t._m(28),t._m(29),t._m(30),t._m(31),t._m(32),s("p",[t._v("Типы ошибок: синтаксические, ошибки типов, ошибки вычисления (в том числе логические).")]),s("p",[t._v("В ML вычитание может быть только бинарной операцией. Чтобы сделать число отрицательным используется тильда:")]),t._m(33),s("p",[t._v("В ML floating point numbers называются reals (real numbers).")]),t._m(34),t._m(35),t._m(36),t._m(37),s("p",[t._v("ML позволяет определять переменные с одинаковыми именами. Причем это не присваивание. Просто определяется новое окружение, а старое затеняется.")]),s("p",[t._v("https://en.wikipedia.org/wiki/Variable_shadowing")]),s("p",[t._v("В ESLint есть правило "),s("a",{attrs:{href:"http://eslint.org/docs/rules/no-shadow",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("no-shadow")]),s("OutboundLink")],1),t._v(".")]),t._m(38),t._m(39),t._m(40),s("p",[t._v("Не может быть later function bindings. Функции должны объявляться до вызова.")]),t._m(41),s("p",[t._v("Функция — значение (already a value), она не вычисляется до вызова. Мы не выполняем функцию пока не вызовем, просто сохраняем ее тело в переменную.")]),s("p",[t._v("В SML нельзя сделать функцию с неопределенным набором аргументов.")]),t._m(42),t._m(43),s("p",[t._v("В списках (list) все элементы должны быть одинакового типа.")]),s("p",[t._v("Tuple — "),s("a",{attrs:{href:"https://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D1%80%D1%82%D0%B5%D0%B6_(%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0)",target:"_blank",rel:"noopener noreferrer"}},[t._v("кортеж"),s("OutboundLink")],1),t._v(" — упорядоченный набор фиксированной длины.")]),s("p",[t._v("Пара — кортеж из двух элементов.")]),t._m(44),s("p",[t._v("Доступ к элементам пары (кортежа). Синтаксис:")]),t._m(45),t._m(46),t._m(47),t._m(48),s("p",[t._v("Кортежи имеют предварительно заданное число элементов. Нельзя их генерить налету.")]),t._m(49),s("p",[t._v("Списки — набор данных произвольной длины (в отличие от кортежей), но у каждого элемента должен быть одинаковый тип данных. Мы не знаем размер списка, пока не запустим программу.")]),t._m(50),s("p",[t._v("List of values is a value. Но можно составлять список из выражений:")]),t._m(51),t._m(52),t._m(53),t._m(54),t._m(55),t._m(56),t._m(57),t._m(58),t._m(59),t._m(60),t._m(61),t._m(62),t._m(63),s("p",[t._v("Функции для работы со списками как правило рекурсивны. Обычно в решении нужно указать, что вернуть, когда список пуст и что сделать, когда список не пуст in terms of the tail of that list.")]),t._m(64),s("p",[t._v("Локальные переменные. Видимые только в функции.")]),t._m(65),t._m(66),t._m(67),s("p",[t._v("Вложенные функции нужно использовать, когда они не нужны никому, кроме текущий функции. Им доступно окружение родительской функции. Инкапсулируя хелпер-функцию мы делаем код более стабильным и логичным.")]),t._m(68),t._m(69),t._m(70),t._m(71),t._m(72),t._m(73),t._m(74),t._m(75),t._m(76),t._m(77),t._m(78),s("p",[t._v("В функциональных языках нельзя переопределить однажды созданные данные. Только создать новую копию.")]),t._m(79),t._m(80),t._m(81),t._m(82),s("p",[t._v("Как изучить язык программирования?")]),t._m(83),t._m(84),s("p",[t._v("Краткое содержание недели из Community-contributed Resources.")]),t._m(85),t._m(86),t._m(87),t._m(88)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"недеnя-ii-basics-functions-recursion-scope-variables-tuples-lists"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#недеnя-ii-basics-functions-recursion-scope-variables-tuples-lists","aria-hidden":"true"}},[this._v("#")]),this._v(" Неделя II: Basics, functions, recursion, scope, variables, tuples, lists, ...")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"resources/section1sum.pdf"}},[t._v("Краткое содержание в ПДФ")]),t._v(".")]),s("li",[s("a",{attrs:{href:"resources/section1_video_code_files"}},[t._v("Код из лекций")]),t._v(".")]),s("li",[s("a",{attrs:{href:"code"}},[t._v("Мой код")]),t._v(", что написал по ходу просмотра.")]),s("li",[s("a",{attrs:{href:"homework1"}},[t._v("Домашка")]),t._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"ml-variable-bindings-and-expressions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ml-variable-bindings-and-expressions","aria-hidden":"true"}},[this._v("#")]),this._v(" ML Variable Bindings and Expressions")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("См. "),e("a",{attrs:{href:"code/first.sml"}},[e("code",[this._v("first.sml")])]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("См. "),e("a",{attrs:{href:"resources/3_ML_expressions_and_variable_bindings.pdf"}},[this._v("слайды")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"синтаксис-объявnения-привязки-binding-переменных"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#синтаксис-объявnения-привязки-binding-переменных","aria-hidden":"true"}},[this._v("#")]),this._v(" Синтаксис объявления (привязки, binding) переменных")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-fsharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-fsharp"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("(* Variable bindings, see `first.sml` *)")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("val")]),t._v(" x "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("34")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("val")]),t._v(" y "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("17")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Ключевое слово "),s("code",[t._v("val")]),t._v(", имя переменной, после "),s("code",[t._v("=")]),t._v(" идет "),s("em",[t._v("выражение")]),t._v(" (в данном случае просто 34). "),s("code",[t._v("x")]),t._v(" будет типа "),s("code",[t._v("int")]),t._v(", потому что 34 — integer.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Variable binding — привязка имени переменной к её значению. Это "),e("em",[this._v("не присваивание")]),this._v(" (assign). Привязка — окончательна. Нельзя изменить уже привязанное значение, его можно только перепривязать (см. shadowing ниже).")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-fsharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-fsharp"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("val")]),t._v(" x "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("34")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("(* static environment: x : int *)")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("(* dynamic environment: x --\x3e 34 *)")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("val")]),t._v(" y "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("17")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("(* static environment: x : int, y : int *)")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("(* dynamic environment: x --\x3e 34, y --\x3e 17 *)")]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("(* В выражениях можно использовать только уже объявленные переменные: *)")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("val")]),t._v(" z "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" y"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("2")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("(* static environment: x : int, y : int, z : int (это вытекает из того, что все слагаемые — int) *)")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("(* dynamic environment: x --\x3e 34, y --\x3e 17, z --\x3e 70 *)")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Условия. "),e("code",[this._v("then")]),this._v(" и "),e("code",[this._v("else")]),this._v(" должны иметь одинаковый тип:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-fsharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-fsharp"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("val")]),t._v(" abs_of_z "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" z "),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("then")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v(" z "),s("span",{attrs:{class:"token keyword"}},[t._v("else")]),t._v(" z"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("(* static environment: ..., `z < 0` : bool, then/else : int, abs_of_z : int *)")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("(* dynamic environment: ..., abs_of_z --\x3e 70 *)")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("val")]),t._v(" abs_of_z_simpler "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" abs z"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("(* уже есть такая ф-я. Можно писать `abs(z)` *)")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"семантика-статическое-и-динамическое-окружение"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#семантика-статическое-и-динамическое-окружение","aria-hidden":"true"}},[this._v("#")]),this._v(" Семантика: статическое и динамическое окружение")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"rules-for-expressions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rules-for-expressions","aria-hidden":"true"}},[this._v("#")]),this._v(" Rules for Expressions")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("См. слайды "),e("a",{attrs:{href:"resources/4_rules_for_expressions.pdf"}},[e("code",[this._v("4_rules_for_expressions.pdf")])]),this._v(".")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",[s("li",[t._v("Какой "),s("em",[t._v("синтаксис")]),t._v("? Как записать это выражение в терминах языка?")]),s("li",[t._v("Какие используются "),s("em",[t._v("правила для проверки типов")]),t._v("? Какого типа выражение и при каких условиях проверка типов сломается?")]),s("li",[t._v("По каким правилам будет происходить "),s("em",[t._v("вычисление")]),t._v("? Каким образом мы получим результат (value)?")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Синтаксис: используем буквы, цифры или подчеркивание. Цифра не должна быть первой в названии.")]),e("li",[this._v("Проверка типа: если в переменную записывается выражение, то все переменные в этом выражении должны быть в "),e("em",[this._v("статическом")]),this._v(" окружении. Если их не будет, будет ошибка. А если просто привязываем значение, то значит наша переменная будет иметь соответствующий тип.")]),e("li",[this._v("Правила вычисления (evaluation rules): берем нужные данные в динамическом окружении. Если мы дошли до вычислений, значит мы прошли статическую проверку и все значения точно есть в динамическом окружении. Нужно их только взять и произвести вычисления.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",[s("li",[t._v("Синтаксис: "),s("code",[t._v("e1 + e1")]),t._v(", где "),s("code",[t._v("e1")]),t._v(" и "),s("code",[t._v("e2")]),t._v(" — подвыражения. Между ними должен быть знак "),s("code",[t._v("+")]),t._v(".")]),s("li",[t._v("Проверка типов: если "),s("code",[t._v("e1")]),t._v(" и "),s("code",[t._v("e2")]),t._v(" имеют тип "),s("code",[t._v("int")]),t._v(", то и результат будет типа "),s("code",[t._v("int")]),t._v(". Если у подвыражений разные типы, то будет ошибка. Например, сумма "),s("code",[t._v("int")]),t._v(" и "),s("code",[t._v("bool")]),t._v(" не пройдет проверку типов.")]),s("li",[t._v("Вычисление: сначала вычислим "),s("code",[t._v("e1")]),t._v(", получим значение "),s("code",[t._v("v1")]),t._v(", потом вычисляем "),s("code",[t._v("e2")]),t._v(" и получаем "),s("code",[t._v("v2")]),t._v(". Далее вычисляем сумму "),s("code",[t._v("v1")]),t._v(" и "),s("code",[t._v("v2")]),t._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"значения"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#значения","aria-hidden":"true"}},[this._v("#")]),this._v(" Значения")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Все значения — выражения. Даже в "),e("code",[this._v("val x = 42;")]),this._v(" цифра "),e("code",[this._v("42")]),this._v(" — это выражение, которое возвращает само себя.")]),e("li",[this._v("Не все выражения являются значениями.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"усnовия"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#усnовия","aria-hidden":"true"}},[this._v("#")]),this._v(" Условия")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-sml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("if e1 then e2 else e3\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("где "),s("code",[t._v("if")]),t._v(", "),s("code",[t._v("then")]),t._v(" и "),s("code",[t._v("else")]),t._v(" — ключевые слова, а "),s("code",[t._v("e1")]),t._v(", "),s("code",[t._v("e2")]),t._v(" и "),s("code",[t._v("e3")]),t._v(" — подвыражения.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("code",[t._v("e1")]),t._v(" должно быть "),s("code",[t._v("bool")])]),s("li",[s("code",[t._v("e2")]),t._v(" и "),s("code",[t._v("e3")]),t._v(" могут быть любого типа, но он должен быть одинаковым у обоих")]),s("li",[t._v("Результат всего выражения — такой же тип, как у "),s("code",[t._v("e2")]),t._v(" и "),s("code",[t._v("e3")]),t._v(".")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("Сначала вычислить "),s("code",[t._v("e1")]),t._v(".")]),s("li",[t._v("Если оно "),s("code",[t._v("true")]),t._v(", то вернуть "),s("code",[t._v("e2")]),t._v(" иначе вернуть "),s("code",[t._v("e3")]),t._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"less-than-самостоятеnьно"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#less-than-самостоятеnьно","aria-hidden":"true"}},[this._v("#")]),this._v(" Less Than (самостоятельно)")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Синтаксис: "),s("code",[t._v("e1 < e2")]),t._v(", где "),s("code",[t._v("<")]),t._v(" — часть синтаксиса языка, а "),s("code",[t._v("e1")]),t._v(" и "),s("code",[t._v("e2")]),t._v(" — подвыражения.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Проверка типов: "),s("code",[t._v("e1")]),t._v(" и "),s("code",[t._v("e2")]),t._v(" могут быть "),s("code",[t._v("int")]),t._v(" или другого числового типа (хз как он сравнивает точно), оба одного и того же. В итоге все выражение будет типа "),s("code",[t._v("bool")]),t._v(".")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("вычисляем "),s("code",[t._v("e1")])]),s("li",[t._v("вычисляем "),s("code",[t._v("e2")])]),s("li",[t._v("если "),s("code",[t._v("e1")]),t._v(" меньше "),s("code",[t._v("e2")]),t._v(", то вернуть "),s("code",[t._v("true")]),t._v(" иначе "),s("code",[t._v("false")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"the-repl-and-errors"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#the-repl-and-errors","aria-hidden":"true"}},[this._v("#")]),this._v(" The REPL and Errors")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"запуск-файnов"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#запуск-файnов","aria-hidden":"true"}},[this._v("#")]),this._v(" Запуск файлов")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Нельзя несколько раз подключать один и тот же файл через "),e("code",[this._v('use "filename.sml";')]),this._v(". Надо рестартануть REPL. Чтобы не было shadowing у переменных (ниже про это).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"errors"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#errors","aria-hidden":"true"}},[this._v("#")]),this._v(" Errors")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-ml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("val a = -5 (* ошибка *)\nval a = 0-5 (* будет работать *)\nval a = ~5 (* так правильно, по ML-овски *)\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("/")]),this._v(" — так можно делить reals. Для "),e("code",[this._v("integers")]),this._v(" нужно использовать "),e("code",[this._v("div")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-ml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("val x = 3\nval y = 2\n\nval a = x/y (* ошибка, это интеджеры *) \nval a = x div y (* норм *) \n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"shadowing"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shadowing","aria-hidden":"true"}},[this._v("#")]),this._v(" Shadowing")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("См. "),e("a",{attrs:{href:"resources/section1_video_code_files/6_shadowing.sml"}},[this._v("код")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"functions-informally"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#functions-informally","aria-hidden":"true"}},[this._v("#")]),this._v(" Functions Informally")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("См. "),e("a",{attrs:{href:"code/func_pow.sml"}},[this._v("код")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Функции можно вызывать без скобок, если у них только 1 аргумент: "),e("code",[this._v("cube 4")]),this._v(". Но если больше, то нужны скобки: "),e("code",[this._v("pow(2, 3)")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"functions-formally"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#functions-formally","aria-hidden":"true"}},[this._v("#")]),this._v(" Functions Formally")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Вычисление функции (запуск): "),e("code",[this._v("e0(e1, e2)")]),this._v(". Название ф-и — тоже выражение, сначала вычисляем его (находим выше в окружении). Потом вычисляем каждый аргумент. Потом вычисляем тело функции.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"pairs-and-other-tuples"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pairs-and-other-tuples","aria-hidden":"true"}},[this._v("#")]),this._v(" Pairs and Other Tuples")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Создание пары (кортежа). В кортеже (паре) "),e("code",[this._v("(e1, e2)")]),this._v(" каждый элемент вычисляется, значение кортежа — вычисленные значения элементов "),e("code",[this._v("(v1, v2)")]),this._v(", тип кортежа: "),e("code",[this._v("t1 * t2")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-ml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("#1 e (* первый элемент *)\n#2 e (* второй элемент *)\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Вычисление: вычисляем "),e("code",[this._v("e")]),this._v(" (ищем в окружении).")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Проверка типов: если "),s("code",[t._v("e")]),t._v(" имеет тип "),s("code",[t._v("t1 * t2")]),t._v(", тогда "),s("code",[t._v("#1 e")]),t._v(" имеет тип "),s("code",[t._v("t1")]),t._v(", а "),s("code",[t._v("#2 e")]),t._v(" имеет тип "),s("code",[t._v("t2")]),t._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Nesting tuples: "),e("code",[this._v("val x1 = (7, (true, 9))")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"introducing-lists"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#introducing-lists","aria-hidden":"true"}},[this._v("#")]),this._v(" Introducing Lists")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Пустой список "),e("code",[this._v("[]")]),this._v(". Evaluates to itself.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-ml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[(1+2), 3, (2+5)]; (* -> [4, 3, 7] *)\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Операция "),e("code",[this._v("::")]),this._v(" (cons) — constructing a list. Операция добавления в список.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("code",[t._v("e1::e2")]),t._v(", где "),s("code",[t._v("e1")]),t._v(" вычисляется в "),s("code",[t._v("v")]),t._v(", а "),s("code",[t._v("e2")]),t._v(" в список "),s("code",[t._v("[v1, ..., vn]")]),t._v(". Получится "),s("code",[t._v("[v, v1, ..., vn]")]),t._v(". То есть "),s("code",[t._v("v")]),t._v(" добавится в начало списка:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-ml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("5::[1, 2, 3]; (* -> [5, 1, 2, 3] *)\n5::[1, 2, 3]::[5, 6, 7]; (* можно и так *)\n[5]::[[1,2], [3, 4]]; (* и так, тут все элементы списка — списки, одинаковый тип данных *)\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Пустой список имеет тип "),e("code",[this._v("'a list")]),this._v(" (alpha list) — это универсальный типа данных и к нему можно добавлять значения любого типа: "),e("code",[this._v("(1, 2)::[];")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"accessing-lists"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#accessing-lists","aria-hidden":"true"}},[this._v("#")]),this._v(" Accessing Lists")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Сначала проверяем, не пустой ли лист. Функция "),e("code",[this._v("null")]),this._v(" в ML — это не спец. значение, как в JS. А простая функция, которая проверяет, не пустой ли список:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-ml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("null []; (* true *)\nnull [1, 2, 3]; (* false *)\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("hd")]),this._v(" — функция head, принимает список и возвращает первый элемент.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("tl")]),this._v(" — функция tail, принимает список и возвращает все, кроме первого. Tail списка из 1-го элемента — пустой список (все, элементы кроме первого, первого нет, значит пустой список).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"list-functions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#list-functions","aria-hidden":"true"}},[this._v("#")]),this._v(" List Functions")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Есть соглашение — именовать переменные/параметры со списками с окончанием "),e("code",[this._v("s")]),this._v(". Типа как множественное число:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-ml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("fun sum_list(xs : int list) =\n    if null xs\n    then 0\n    else hd xs + sum_list(tl xs)\n\nval sum = sum_list([1, 2, 3])\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"let-expressions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#let-expressions","aria-hidden":"true"}},[this._v("#")]),this._v(" Let Expressions")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-ml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("(* let b1 b2 ... bn in e *)\nfun silly1 (z : int) = (* int -> int *)\n    let val x = if z > 0 then z else 34\n        val y = x+z+9\n    in\n        if x > y then x*2 else y*y\n    end\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Ограничение скоупа. Что внутри "),e("code",[this._v("let")]),this._v(" не видно с наружи.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"nested-functions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nested-functions","aria-hidden":"true"}},[this._v("#")]),this._v(" Nested Functions")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"let-and-efficiency"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#let-and-efficiency","aria-hidden":"true"}},[this._v("#")]),this._v(" Let and Efficiency")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"options"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#options","aria-hidden":"true"}},[this._v("#")]),this._v(" Options")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"booleans-and-comparison-operations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#booleans-and-comparison-operations","aria-hidden":"true"}},[this._v("#")]),this._v(" Booleans and Comparison Operations")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("e1 andalso e2")]),this._v(" — обычно пишут "),e("code",[this._v("&&")]),this._v(" в современных языках.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("e1 orelse e2")]),this._v(" — теперь пишут "),e("code",[this._v("||")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("not e1")]),this._v(" — аналогично "),e("code",[this._v("!e1")]),this._v(". "),e("code",[this._v("!")]),this._v(" в ML работает, относится к мутациям.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("=")]),this._v(" — сравнение на равенство. Один знак "),e("code",[this._v("=")]),this._v(", не два, как часто бывает.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("<>")]),this._v(" — на неравенство. Сейчас обычно юзают "),e("code",[this._v("!=")]),this._v(".")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Нельзя сравнивать "),s("code",[t._v("int")]),t._v(" и "),s("code",[t._v("real")]),t._v(" с помощью "),s("code",[t._v("<")]),t._v(", "),s("code",[t._v(">")]),t._v(", "),s("code",[t._v("<=")]),t._v(", "),s("code",[t._v(">=")]),t._v(". Тип должен быть одинаковый. Надо конвертить: "),s("code",[t._v("Real.fromInt 2; (* => 2.0 *)")]),t._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("=")]),this._v(" и "),e("code",[this._v("<>")]),this._v(" нельзя использовать на типе "),e("code",[this._v("real")]),this._v(". ML предполагает, что мы будем сравнивать их более математически.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"benefits-of-no-mutation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#benefits-of-no-mutation","aria-hidden":"true"}},[this._v("#")]),this._v(" Benefits of No Mutation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-ml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("val x = [1, 2, 3];\nval y = x;\nx = y; (* true *)\n\nval y = 4::y;\nx = y; (* false *)\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" x "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token number"}},[t._v("1")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("2")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("3")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" y "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" x"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y "),s("span",{attrs:{class:"token operator"}},[t._v("==")]),t._v(" x"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n\ny"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("push")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("4")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y "),s("span",{attrs:{class:"token operator"}},[t._v("==")]),t._v(" x"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// true, оба поменялись")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"optional-java-mutation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#optional-java-mutation","aria-hidden":"true"}},[this._v("#")]),this._v(" Optional: Java Mutation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"pieces-of-a-language"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pieces-of-a-language","aria-hidden":"true"}},[this._v("#")]),this._v(" Pieces of a Language")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("Синтаксис: как оно пишется.")]),s("li",[t._v("Семантика: как происходят вычисления (что делает интерпретатор/компилятор), как происходит проверка типов.")]),s("li",[t._v("Идиомы: устоявшиеся конструкции языка. Когда лучше написать "),s("code",[t._v("return a || b;")]),t._v(", а когда применять "),s("code",[t._v("if/else")]),t._v(". Когда использовать function declaration, когда function expression и пр. Типичные паттерны использования языковых конструкций.")]),s("li",[t._v("Библиотеки. Для работы с нужной областью: файловая система, данные и пр.")]),s("li",[t._v("Инструменты для работы с языком. Типа REPL. К самому языку не относятся.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"hints-and-gotchas"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hints-and-gotchas","aria-hidden":"true"}},[this._v("#")]),this._v(" Hints and Gotchas")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"notes-on-material"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#notes-on-material","aria-hidden":"true"}},[this._v("#")]),this._v(" Notes on material")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("Clear your mind of any preconceived notions of programming ideas.")]),s("li",[t._v("Download the reading notes!")]),s("li",[t._v("For strings, you have to use double-quote \", and not single-quote '.")]),s("li",[t._v("Unary minus is denoted by a tilde "),s("code",[t._v("~")]),t._v(".")]),s("li",[t._v("Test for equality is a single equals "),s("code",[t._v("=`` instead of double")]),t._v("==`.")]),s("li",[t._v("Every "),s("code",[t._v("if ... then")]),t._v(" must also have an "),s("code",[t._v("else")]),t._v(".")]),s("li",[t._v("You need a "),s("code",[t._v("val")]),t._v(" or "),s("code",[t._v("fun")]),t._v(' for anything defined at the "top" level (or anywhere else).')]),s("li",[t._v("Always restart the REPL before use-ing the same file twice.")]),s("li",[t._v('There are no "assignments", there are "variable bindings". Understand the difference and how shadowing works.')]),s("li",[t._v("Types are indicated via a colon after the variable — they are often optional (SML can infer them).")]),s("li",[t._v("Forget "),s("code",[t._v("for/while")]),t._v(" loops; you can do the same with recursion instead.")]),s("li",[t._v('Functions are values! (Make sure to understand how it is "evaluated".)')]),s("li",[t._v("The type of a tuple "),s("code",[t._v("(𝟸𝟹, 𝟹𝟺)")]),t._v(" is denoted as "),s("code",[t._v("int * int")]),t._v(".")]),s("li",[t._v("Function types are denoted by "),s("code",[t._v("->")]),t._v(".")]),s("li",[t._v('Need to define a "local" variable in a function? Use '),s("code",[t._v("let...in...end")]),t._v(".")]),s("li",[t._v('"and" is done via '),s("code",[t._v("andalso")]),t._v(', "or" via '),s("code",[t._v("orelse")]),t._v(".")]),s("li",[t._v('"not equal" is '),s("code",[t._v("<>")]),t._v(".")]),s("li",[t._v("You cannot directly do arithmetic on an "),s("code",[t._v("int")]),t._v(" and a "),s("code",[t._v("real")]),t._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"notes-on-the-assignment"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#notes-on-the-assignment","aria-hidden":"true"}},[this._v("#")]),this._v(" Notes on the assignment")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("Read assignment directions very carefully.")]),s("li",[t._v('Examine the required types of the functions, found on the "summary" section of the notes, page 2. Understand why those are the types. Make sure your implementations have those types.')]),s("li",[t._v("Don't use pattern matching on this assignment.")]),s("li",[t._v("Don't use features or library functions not described in the lectures/notes (except for places where the assignment specifies). In particular, you cannot use any of the "),s("code",[t._v("List")]),t._v(" structure's functions.")]),s("li",[t._v("Write tests for your functions!")]),s("li",[t._v("If your problem returns a boolean, oftentimes you can get by with just "),s("code",[t._v("andalso")]),t._v(" and "),s("code",[t._v("orelse")]),t._v(", without needing "),s("code",[t._v("if-then-else")]),t._v(". At the very least, avoid "),s("code",[t._v("if e then true else false")]),t._v(".")]),s("li",[t._v("Avoid recomputing a value when possible. Using "),s("code",[t._v("#𝟷")]),t._v(", "),s("code",[t._v("#𝟸")]),t._v(", "),s("code",[t._v("hd")]),t._v(", and "),s("code",[t._v("tl")]),t._v(" doesn't really cost anything, but other computations should probably be stored if they are repeated.")]),s("li",[t._v("Most functions (with the exception of challenge problems) have bodies in the range of 3-8 lines.")]),s("li",[t._v("Make sure your functions are spelled correctly!")]),s("li",[t._v("You need to deal with empty lists as a possibility, do not assume they are non-empty.")]),s("li",[t._v("In general, do not make assumptions that are not explicitly stated in the assignment (if in doubt, ask in the forums!).")]),s("li",[t._v('Take care to think of what "older" and "oldest" means for dates.')]),s("li",[t._v("Don't forget to submit in two places! Normal assignment, and peer review.")])])}],!1,null,null,null);e.default=n.exports}}]);